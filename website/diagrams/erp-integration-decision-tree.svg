<svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title-text { font-family: 'Arial', sans-serif; font-size: 18px; font-weight: bold; fill: #2c5aa0; }
      .node-title { font-family: 'Arial', sans-serif; font-size: 14px; font-weight: bold; fill: #2c5aa0; }
      .branch-title { font-family: 'Arial', sans-serif; font-size: 12px; font-weight: bold; fill: #333; }
      .desc-text { font-family: 'Arial', sans-serif; font-size: 10px; fill: #666; }
      .outcome-text { font-family: 'Arial', sans-serif; font-size: 11px; fill: #28a745; font-weight: bold; }
      .caption-text { font-family: 'Arial', sans-serif; font-size: 14px; fill: #2c5aa0; font-weight: bold; }
      .migration-text { font-family: 'Arial', sans-serif; font-size: 10px; fill: #28a745; font-weight: bold; }
      
      .root-node { fill: #e3f2fd; stroke: #2196f3; stroke-width: 3; }
      .branch-node { fill: #f8f9fa; stroke: #6c757d; stroke-width: 2; }
      .modern-branch { fill: #e8f5e8; stroke: #28a745; stroke-width: 2; }
      .legacy-branch { fill: #fff3e0; stroke: #ff9800; stroke-width: 2; }
      .limited-branch { fill: #f3e5f5; stroke: #9c27b0; stroke-width: 2; }
      .closed-branch { fill: #ffebee; stroke: #f44336; stroke-width: 2; }
      .smartapi-core { fill: #1976d2; stroke: #0d47a1; stroke-width: 3; }
      .firs-node { fill: #4caf50; stroke: #2e7d32; stroke-width: 2; }
      
      .branch-line { stroke: #666; stroke-width: 2; fill: none; }
      .convergence-line { stroke: #2196f3; stroke-width: 3; fill: none; marker-end: url(#blueArrow); }
      .final-line { stroke: #4caf50; stroke-width: 3; fill: none; marker-end: url(#greenArrow); }
    </style>
    
    <marker id="blueArrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#2196f3"/>
    </marker>
    <marker id="greenArrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#4caf50"/>
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" class="title-text">ERP Integration Decision Tree</text>
  
  <!-- Root Node -->
  <rect x="500" y="70" width="200" height="80" rx="10" class="root-node"/>
  <text x="600" y="100" text-anchor="middle" class="node-title">Client ERP Environment</text>
  <text x="600" y="120" text-anchor="middle" class="desc-text">Assessment &amp; Classification</text>
  <text x="600" y="135" text-anchor="middle" class="desc-text">for Integration Path</text>
  
  <!-- Branch Lines from Root -->
  <path d="M550 150 L200 250" class="branch-line"/>
  <path d="M580 150 L400 250" class="branch-line"/>
  <path d="M620 150 L800 250" class="branch-line"/>
  <path d="M650 150 L1000 250" class="branch-line"/>
  
  <!-- Branch 1: Modern ERP -->
  <rect x="100" y="250" width="200" height="120" rx="8" class="modern-branch"/>
  <circle cx="150" cy="280" r="12" fill="#4caf50"/>
  <rect x="146" y="276" width="8" height="8" fill="white"/>
  <text x="180" y="285" class="branch-title">Modern ERP with API Access</text>
  <text x="120" y="305" class="desc-text">Examples:</text>
  <text x="120" y="318" class="desc-text">• SAP S4/HANA</text>
  <text x="120" y="331" class="desc-text">• Oracle Fusion</text>
  <text x="120" y="344" class="desc-text">• Dynamics 365</text>
  <text x="200" y="358" text-anchor="middle" class="outcome-text">Seamless, real-time integration</text>
  
  <!-- Branch 2: SAP ECC Legacy -->
  <rect x="350" y="250" width="200" height="120" rx="8" class="legacy-branch"/>
  <circle cx="400" cy="280" r="12" fill="#ff9800"/>
  <path d="M394 276 L406 284 M394 284 L406 276" stroke="white" stroke-width="2"/>
  <text x="430" y="285" class="branch-title">SAP ECC Legacy</text>
  <text x="370" y="305" class="desc-text">Example:</text>
  <text x="370" y="318" class="desc-text">• SAP ECC 6.0 with PI/PO</text>
  <text x="370" y="331" class="desc-text">Path: IDoc → PI/PO → REST</text>
  <rect x="420" y="340" width="80" height="15" rx="3" fill="#28a745"/>
  <text x="460" y="350" text-anchor="middle" class="migration-text">S4 Migration-Safe</text>
  <text x="450" y="365" text-anchor="middle" class="outcome-text">ECC preserved, S4 ready</text>
  
  <!-- Branch 3: Limited/No ERP -->
  <rect x="600" y="250" width="200" height="120" rx="8" class="limited-branch"/>
  <circle cx="650" cy="280" r="12" fill="#9c27b0"/>
  <circle cx="645" cy="275" r="3" fill="white"/>
  <circle cx="655" cy="275" r="3" fill="white"/>
  <circle cx="645" cy="285" r="3" fill="white"/>
  <circle cx="655" cy="285" r="3" fill="white"/>
  <text x="680" y="285" class="branch-title">Limited/No ERP Integration</text>
  <text x="620" y="305" class="desc-text">Examples:</text>
  <text x="620" y="318" class="desc-text">• Subsidiaries</text>
  <text x="620" y="331" class="desc-text">• Small business units</text>
  <text x="620" y="344" class="desc-text">Path: BlueInvoice/Email</text>
  <text x="700" y="365" text-anchor="middle" class="outcome-text">Compliance w/o IT dependency</text>
  
  <!-- Branch 4: Legacy/Closed ERPs -->
  <rect x="850" y="250" width="200" height="120" rx="8" class="closed-branch"/>
  <circle cx="900" cy="280" r="12" fill="#f44336"/>
  <rect x="896" y="276" width="8" height="8" fill="white"/>
  <path d="M898 278 L906 286 M898 286 L906 278" stroke="#f44336" stroke-width="1"/>
  <text x="930" y="285" class="branch-title">Legacy/Closed ERPs</text>
  <text x="870" y="305" class="desc-text">Example:</text>
  <text x="870" y="318" class="desc-text">• Custom ERP print-only</text>
  <text x="870" y="331" class="desc-text">Path: BlueBox Capture</text>
  <text x="870" y="344" class="desc-text">• Print → SmartAPI</text>
  <text x="950" y="365" text-anchor="middle" class="outcome-text">Zero ERP changes</text>
  
  <!-- Integration Methods Detail -->
  <text x="120" y="400" class="desc-text">Direct SmartAPI REST</text>
  <text x="370" y="400" class="desc-text">IDoc → PI/PO → REST Bridge</text>
  <text x="640" y="400" class="desc-text">BlueInvoice SaaS</text>
  <text x="640" y="413" class="desc-text">Email Connector</text>
  <text x="870" y="400" class="desc-text">BlueBox Agent</text>
  <text x="870" y="413" class="desc-text">Print/Folder Capture</text>
  
  <!-- Convergence Lines to SmartAPI Core -->
  <path d="M200 370 L500 500" class="convergence-line"/>
  <path d="M450 370 L500 500" class="convergence-line"/>
  <path d="M700 370 L600 500" class="convergence-line"/>
  <path d="M950 370 L600 500" class="convergence-line"/>
  
  <!-- SmartAPI Core Hub -->
  <rect x="500" y="500" width="200" height="80" rx="10" class="smartapi-core"/>
  <text x="600" y="530" text-anchor="middle" style="font-family: Arial; font-size: 16px; font-weight: bold; fill: white;">SmartAPI Core</text>
  <text x="600" y="550" text-anchor="middle" style="font-family: Arial; font-size: 12px; fill: white;">Unified Compliance Hub</text>
  <text x="600" y="565" text-anchor="middle" style="font-family: Arial; font-size: 10px; fill: white;">All paths converge here</text>
  
  <!-- Final connection to FIRS -->
  <path d="M600 580 L600 650" class="final-line"/>
  
  <!-- FIRS MBS Node -->
  <rect x="500" y="650" width="200" height="60" rx="10" class="firs-node"/>
  <text x="600" y="675" text-anchor="middle" style="font-family: Arial; font-size: 14px; font-weight: bold; fill: white;">FIRS MBS</text>
  <text x="600" y="695" text-anchor="middle" style="font-family: Arial; font-size: 12px; fill: white;">Regulator Endpoint</text>
  
  <!-- Side Caption -->
  <text x="100" y="600" class="caption-text">"No ERP Left Behind"</text>
  <text x="100" y="620" class="desc-text">Flexible for all maturity levels:</text>
  <text x="100" y="635" class="desc-text">Modern APIs to legacy print spoolers</text>
  
  <!-- Migration Highlight -->
  <rect x="350" y="450" width="200" height="30" rx="5" fill="#e8f5e8" stroke="#4caf50" stroke-width="2"/>
  <text x="450" y="470" text-anchor="middle" class="migration-text">Migration-Safe: ECC → S4 Path Preserved</text>
  
  <!-- Technology Icons -->
  <!-- Modern ERP icons -->
  <rect x="120" y="375" width="15" height="15" fill="#0078d4"/>
  <text x="127" y="386" text-anchor="middle" style="font-size: 8px; fill: white; font-weight: bold;">S4</text>
  <rect x="140" y="375" width="15" height="15" fill="#ff5722"/>
  <text x="147" y="386" text-anchor="middle" style="font-size: 8px; fill: white; font-weight: bold;">ORA</text>
  <rect x="160" y="375" width="15" height="15" fill="#00bcf2"/>
  <text x="167" y="386" text-anchor="middle" style="font-size: 8px; fill: white; font-weight: bold;">D365</text>
  
  <!-- Legacy ERP icons -->
  <rect x="370" y="375" width="15" height="15" fill="#0078d4"/>
  <text x="377" y="386" text-anchor="middle" style="font-size: 8px; fill: white; font-weight: bold;">PI</text>
  <rect x="390" y="375" width="15" height="15" fill="#4caf50"/>
  <text x="397" y="386" text-anchor="middle" style="font-size: 8px; fill: white; font-weight: bold;">PO</text>
  
  <!-- Limited ERP icons -->
  <rect x="620" y="375" width="15" height="15" fill="#4caf50"/>
  <text x="627" y="386" text-anchor="middle" style="font-size: 6px; fill: white; font-weight: bold;">WEB</text>
  <rect x="640" y="375" width="15" height="15" fill="#ff9800"/>
  <text x="647" y="386" text-anchor="middle" style="font-size: 8px; fill: white; font-weight: bold;">@</text>
  
  <!-- Closed ERP icons -->
  <rect x="870" y="375" width="15" height="15" fill="#9c27b0"/>
  <text x="877" y="386" text-anchor="middle" style="font-size: 6px; fill: white; font-weight: bold;">BOX</text>
  <rect x="890" y="375" width="15" height="15" fill="#795548"/>
  <text x="897" y="386" text-anchor="middle" style="font-size: 6px; fill: white; font-weight: bold;">PRT</text>
</svg>