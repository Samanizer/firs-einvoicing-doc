flowchart LR
    %% LEFT SIDE - Client Solutions
    A1["🏢 SmartAPI<br/>(ERP Integration)<br/><small>Deep ERP Integration</small>"]
    A2["☁️ BlueInvoice<br/>(Web Application)<br/><small>Browser-based SaaS</small>"]
    A3["📧 Email Connector<br/>(Email-based Submission)<br/><small>Send Invoices by Email</small>"]
    A4["🖨️ BlueBox<br/>(Capture Technology)<br/><small>Capture from Print/File</small>"]
    
    %% MIDDLE - Bluelight Core Functions
    B1["🔄 Transformation"]
    B2["✓ Validation"] 
    B3["🔐 Signing"]
    B4["📱 QR Generation"]
    B5["📤 Submission"]
    B6["📁 Archiving"]
    B7["📊 Monitoring &<br/>Reconciliation"]
    
    %% RIGHT SIDE - FIRS Platform
    C1["🏛️ FIRS MBS Platform<br/>Government Database<br/>& Processing System"]

    %% Flow from LEFT to MIDDLE
    A1 --> B1
    A2 --> B2
    A3 --> B3
    A4 --> B4
    
    %% Internal core flow
    B1 --> B5
    B2 --> B5
    B3 --> B5
    B4 --> B5
    B5 --> B6
    B5 --> B7
    
    %% Flow from MIDDLE to RIGHT
    B5 --> C1
    
    %% Return flow
    C1 -->|"Clearance Receipt<br/>IRN | QR Code"| B6
    B6 --> A1
    B6 --> A2
    B6 --> A3
    B6 --> A4

    %% Styling
    classDef clientStyle fill:#f9f9f9,stroke:#666,stroke-width:2px,color:#333
    classDef coreStyle fill:#cce7ff,stroke:#0066cc,stroke-width:1px,color:#003d7a
    classDef firsStyle fill:#e8f5e8,stroke:#2d5016,stroke-width:2px,color:#2d5016

    class A1,A2,A3,A4 clientStyle
    class B1,B2,B3,B4,B5,B6,B7 coreStyle
    class C1 firsStyle